% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/generics.R, R/inclusion_prob.R
\name{inclusion_prob}
\alias{inclusion_prob}
\alias{inclusion_prob.wor}
\alias{inclusion_prob.default}
\title{Inclusion Probabilities}
\usage{
inclusion_prob(x, ...)

\method{inclusion_prob}{wor}(x, ...)

\method{inclusion_prob}{default}(x, n, ...)
}
\arguments{
\item{x}{A numeric vector of positive size measures, or a
without-replacement design object (class \code{"wor"}).}

\item{...}{Additional arguments (currently unused).}

\item{n}{The desired sample size. Required when \code{x} is a numeric vector,
ignored when \code{x} is a design object.}
}
\value{
A numeric vector of inclusion probabilities.
}
\description{
Compute inclusion probabilities from a size measure, or extract them
from a without-replacement design object.
}
\details{
When \code{x} is a numeric vector of size measures and \code{n} is provided,
computes inclusion probabilities via \eqn{\pi_k = n x_k / \sum x_k}
with automatic handling of certainty selections (units where
\eqn{\pi_k \ge 1}).

Negative values in \code{x} are treated as zero (with a warning).
}
\examples{
# From size measures
size <- c(10, 20, 30, 40)
pik <- inclusion_prob(size, n = 2)
sum(pik)  # 2

# From a design object
s <- unequal_prob_wor(pik, method = "cps")
inclusion_prob(s)

# With certainty selections (large units)
size <- c(1, 1, 1, 100)
pik <- inclusion_prob(size, n = 2)
pik  # Unit 4 gets probability 1

}
\seealso{
\code{\link[=expected_hits]{expected_hits()}} for the with-replacement analogue,
\code{\link[=unequal_prob_wor]{unequal_prob_wor()}} for sampling with these probabilities.
}
